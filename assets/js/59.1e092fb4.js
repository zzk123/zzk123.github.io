(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{831:function(e,r,t){"use strict";t.r(r);var a=t(115),v=Object(a.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述","aria-hidden":"true"}},[e._v("#")]),e._v(" 概述")]),e._v(" "),t("p",[e._v("互联网都是通过URL来发布和请求资源的，而URL中的域名需要解析为IP地址才能与远程主机建立连接，如何将域名解析为IP地址，就属于DNS解析的工作范围")]),e._v(" "),t("h2",{attrs:{id:"解析过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析过程","aria-hidden":"true"}},[e._v("#")]),e._v(" 解析过程")]),e._v(" "),t("p",[t("a",{attrs:{"data-fancybox":"",title:"解析过程",href:"/pic/aboutjava/X4TVCO1.jpg"}},[t("img",{attrs:{src:"/pic/aboutjava/X4TVCO1.jpg",alt:"解析过程"}})])]),e._v(" "),t("p",[e._v("当一个用户在浏览器输入网址时，DNS解析将会有10个步骤：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("浏览器会检查缓存中有没有这个域名对应的解析过的IP地址，如果缓存中有，这个解析过程结束。浏览器缓存域名也是有限的，不仅浏览器缓存大小有限制，而且缓存的时间也是有限制的，通常情况下为几分钟到几个小时不等，域名被缓存的时间限制可以通过TTL属性来设置。这个缓存时间太长和太短都不好，如果缓存时间太长，一旦域名被解析到的IP有变化，会导致被客户端缓存的域名无法解析到变化后的IP地址，以致域名不能正常解析，这段时间内有可能一部分用户无法访问网站。如果时间设置太短，会导致用户每次访问网站都要重新解析一次域名。")])]),e._v(" "),t("li",[t("p",[e._v("如果用户的浏览器缓存中没有，浏览器会查找操作系统缓存中是否有这个域名对应的DNS的结果。（操作系统有一个域名解析的过程，可以通过设置，将任何域名解析到任何能够访问的地址）")])]),e._v(" "),t("li",[t("p",[e._v("前面两步都是在本机完成的，如果在本机中无法完成域名的解析，那么就会请求真正的域名解析服务器来解析域名。在我们的网络配置中都有“DNS服务器”这一项，操作系统会把这个域名发送给这里设置的LDNS，也就是本地区的域名服务器。\n这个专门的域名解析服务器性能都会很好，一般都会缓存域名解析结果。大约80%的域名解析都是通过这个服务器来完成的，所以LDNS主要承担了域名的解析工作。")])]),e._v(" "),t("li",[t("p",[e._v("如果LDNS仍然没有命中，就直接到Root Server域名服务器请求解析")])]),e._v(" "),t("li",[t("p",[e._v("根域名服务器返回给本地域名服务器一个所查询域的主域名服务器（gTLD Server）地址。gTLD是国际顶级域名服务器，如.com，.cn，.org等")])]),e._v(" "),t("li",[t("p",[e._v("本地域名服务器（Local DNS Server）再向上一步返回的gTLD服务器发送请求")])]),e._v(" "),t("li",[t("p",[e._v("接受请求的gTLD服务器查找并返回此域名对应的Name Server域名服务器的地址，这个Name Server通常就是你注册的域名服务器，例如你在某个域名服务提供商申请的域名，那么这个域名解析任务就由这个域名提供商的服务器来完成")])]),e._v(" "),t("li",[t("p",[e._v("Name Server域名服务器会查询存储的域名和IP的映射关系表，在正常情况下都根据域名得到目标IP记录，连同一个TTL值返回给DNS Server域名服务器")])]),e._v(" "),t("li",[t("p",[e._v("返回该域名对应的IP和TTL值，Local DNS Server会缓存这个域名和IP的对应关系，缓存的时间由TTL值控制")])]),e._v(" "),t("li",[t("p",[e._v("把解析的结果返回给用户，用户根据TTL值缓存在本地系统缓存中，域名解析过程结束。")])])]),e._v(" "),t("blockquote",[t("p",[e._v("注： 在实际的DNS解析过程中，可能不止这10个步骤，如Name Server 也可能由多级，或者有一个GTM来负载均衡控制，这都又可能会影响到域名的解析过程")])])])},[],!1,null,null,null);r.default=v.exports}}]);